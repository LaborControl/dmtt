name: Test Secrets Access
on:
  workflow_dispatch:

jobs:
  test-secrets:
    runs-on: ubuntu-latest
    steps:
      - name: Test with GITHUB_TOKEN
        run: echo "Token length is ${#GH_TOKEN}"
        env:
          GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}

      - name: Test custom secret via env
        run: |
          if [ -z "$API_SECRET" ]; then
            echo "API secret is empty"
          else
            echo "API secret has ${#API_SECRET} characters"
          fi
        env:
          API_SECRET: ${{ secrets.AZURE_WEBAPP_PUBLISH_PROFILE }}
