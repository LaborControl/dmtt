name: Test Secrets Access
on:
  workflow_dispatch:

jobs:
  test-secrets:
    runs-on: ubuntu-latest
    steps:
      - name: Check if secrets exist
        run: |
          echo "Checking API secret..."
          if [ -n "${{ secrets.AZURE_WEBAPP_PUBLISH_PROFILE }}" ]; then
            echo "API secret exists and has content"
            echo "Length: ${#API_SECRET}"
          else
            echo "API secret is empty or not set"
          fi

          echo "Checking Dashboard secret..."
          if [ -n "${{ secrets.AZURE_DASHBOARD_PUBLISH_PROFILE }}" ]; then
            echo "Dashboard secret exists and has content"
          else
            echo "Dashboard secret is empty or not set"
          fi
        env:
          API_SECRET: ${{ secrets.AZURE_WEBAPP_PUBLISH_PROFILE }}
